# Requirements for NEW models (Gemma, Qwen3)
# Use this environment for: Gemma, Qwen3, and INSTRUCTOR models
# Python >= 3.9

# Build dependencies - install these first
numpy>=1.24.0,<2.0.0  # Latest numpy 1.x for better compatibility
Cython>=3.0.0
setuptools>=60.0
wheel>=0.38.0

# PyTorch (latest stable)
torch>=2.1.0
torchvision>=0.16.0
torchaudio>=2.1.0

# Core ML libraries - UPDATED VERSIONS
transformers>=4.51.1  # Required for Gemma/Qwen3 support
sentence-transformers==5.1.0  # Required for Gemma - specific version for compatibility
tokenizers>=0.19.0  # Updated for latest transformers
huggingface-hub>=0.23.0  # Updated for latest model support

# InstructorEmbedding (still compatible)
InstructorEmbedding==1.0.0

# Datasets and data handling - UPDATED
datasets>=2.19.0  # Updated for compatibility
pandas>=2.0.0  # Latest pandas with numpy 2.x support prep
pyarrow>=14.0.0  # Updated for pandas 2.x
dill>=0.3.7
multiprocess>=0.70.13

# Scientific computing - UPDATED
scipy>=1.11.0  # Updated for numpy compatibility
scikit-learn>=1.3.0  # Updated for numpy compatibility
scikit-multilearn==0.2.0

# PyTorch Lightning - UPDATED
pytorch-lightning>=2.0.0  # Latest version
torchmetrics>=1.0.0  # Updated for pytorch-lightning 2.x

# NLP tools
sacrebleu==2.2.0
sacremoses==0.0.53
regex>=2022.8.17
pytrec-eval==0.5

# Utilities
tqdm>=4.64.0
click>=8.1.3
PyYAML>=6.0.1
tabulate>=0.8.10
filelock>=3.8.0
fsspec>=2023.5.0
xxhash>=3.0.0

# Hydra and config
hydra-core>=1.3.0  # Updated for compatibility
omegaconf>=2.3.0  # Updated - 2.0.5 has invalid metadata with modern pip

# Adapters - NOT COMPATIBLE with transformers 4.57.1
adapters==1.2.0  

# Cloud/AWS dependencies
boto3>=1.24.90
botocore>=1.27.90
s3transfer>=0.6.0

# Web and API
requests>=2.28.1
aiohttp>=3.9.0
urllib3>=1.26.12
certifi>=2022.6.15
idna>=3.3

# Logging and monitoring
tensorboard>=2.14.0
tensorboardX>=2.5.1
absl-py>=1.2.0

# Other dependencies
packaging>=21.3
python-dateutil>=2.8.2
pytz>=2022.4
joblib>=1.1.0
lxml>=4.9.2
Markdown>=3.4.1
MarkupSafe>=2.1.1
Pillow>=9.2.0
portalocker>=2.5.1
protobuf>=3.19.4
typing_extensions>=4.3.0
importlib-metadata>=4.12.0
sklearn-contrib-lightning==0.6.2.post0

# Optional: OpenAI API (if using GPT-3 embeddings)
openai>=0.26.1

# fairseq (if needed - may have compatibility issues with new versions)
# fairseq==0.12.2  # Uncomment if needed, but may require older torch
