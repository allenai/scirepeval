# Requirements for OLD/LEGACY models (Adapters, Fusion, PALs, INSTRUCTOR)
# Use this environment for: Adapter models, Fusion models, PALs, legacy INSTRUCTOR
# Python >= 3.9

# NumPy MUST be installed first (required for building some dependencies)
numpy==1.23.2

# Include base requirements
-r requirements_base.txt

# PyTorch - older stable version
--extra-index-url https://download.pytorch.org/whl/cu116
torch==1.13.1+cu116
torchvision==0.14.1+cu116
torchaudio==0.13.1

# Core ML libraries - OLD VERSIONS
transformers==4.35.2 # Must be <4.40 for adapters compatibility
tokenizers==0.15.0
huggingface-hub==0.19.4

# Datasets - OLD VERSION (supports loading scripts)
datasets==2.16.1  # Must be <2.19 for dataset scripts support
pyarrow==9.0.0

# Sentence transformers - older version
sentence_transformers==2.2.2

# CRITICAL: Adapters - only compatible with transformers<4.40
adapters==0.1.0

# InstructorEmbedding (legacy version)
InstructorEmbedding==1.0.0

# PyTorch Lightning - older version
pytorch-lightning==1.7.2
torchmetrics==0.9.3

# sklearn-contrib-lightning - ONLY for old models (incompatible with numpy>=1.24)
sklearn-contrib-lightning==0.6.2.post0
